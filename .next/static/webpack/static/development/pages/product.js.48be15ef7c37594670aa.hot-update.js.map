{"version":3,"file":"static/webpack/static\\development\\pages\\product.js.48be15ef7c37594670aa.hot-update.js","sources":["webpack:///./components/PDPComponent/PDPComponent.tsx"],"sourcesContent":["import React, {FunctionComponent} from 'react';\r\nimport {Button, Typography} from '@material-ui/core';\r\nimport {useQuery} from '@apollo/react-hooks';\r\nimport Link from 'next/link';\r\nimport Head from 'next/head';\r\nimport {Styled} from './_styles';\r\nimport {PRODUCT_INFO_QUERY, ProductDetails, TransformedProduct} from './_types';\r\nimport ProductDetail from '../ProductDetail/ProductDetail';\r\nimport ManualToothbrush from '../pdp/ManualToothbrush';\r\nimport Whitening from '../pdp/Whitening';\r\n\r\nimport PageContainer, {PageSize} from \"~viewsLay/PageContainer\";\r\n\r\ntype Props = {\r\n  handle: string;\r\n};\r\n\r\nconst PDPComponent: FunctionComponent<Props> = ({ handle }: Props) => {\r\n  let product: TransformedProduct = null;\r\n  const queryVariables: object = {\r\n    handle: `${handle}`,\r\n  };\r\n  const { loading, error, data } = useQuery<ProductDetails, object>(\r\n    PRODUCT_INFO_QUERY,\r\n    {\r\n      variables: queryVariables,\r\n    },\r\n  );\r\n\r\n  function extractProduct(): TransformedProduct {\r\n    console.log(data)\r\n    return ({\r\n      id: data.productByHandle.id,\r\n      handle: data.productByHandle.handle,\r\n      title: data.productByHandle.title,\r\n      description: data.productByHandle.description,\r\n      imageSrc: data.productByHandle.images.edges[0].node.transformedSrc,\r\n      price: data.productByHandle.priceRange.minVariantPrice.amount,\r\n      variants: data.productByHandle.variants,\r\n    });\r\n  }\r\n\r\n  if (!loading && !error && data) {\r\n    product = extractProduct();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading && (\r\n        <Typography variant=\"body1\">Loading...</Typography>\r\n      )}\r\n\r\n      {!loading && !error && product && (\r\n        <>\r\n          <Head>\r\n            <title>{product.title}</title>\r\n            <meta name=\"viewport\" content=\"initial-scale=1.0, width=device-width\" />\r\n          </Head>\r\n          { product.handle === 'm1' ? (\r\n            <ManualToothbrush product={product} />\r\n          // ) : product.handle === \"teeth-whitening-led-device-kit\" ? (\r\n          //   <Whitening product={product} />\r\n          ) :\r\n          (\r\n            <PageContainer size={PageSize.medium} paddingTop={45}>\r\n              <Styled.PDPContainer>\r\n                <Styled.PDPMain>\r\n                  <Link href=\"/\">\r\n                    <Button variant=\"outlined\" color=\"secondary\">Back</Button>\r\n                  </Link>\r\n                  <ProductDetail product={product} />\r\n                </Styled.PDPMain>\r\n              </Styled.PDPContainer>\r\n            </PageContainer>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PDPComponent;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;AADA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAOA;AAAA;AAAA;AAGA;AAAA;AAEA;AAHA;AAMA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}